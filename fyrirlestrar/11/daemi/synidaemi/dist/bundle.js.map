{"version":3,"file":"bundle.js","sources":["../src/lib/highscore.js","../src/lib/question.js","../src/lib/game.js","../src/index.js"],"sourcesContent":["// todo vísa í rétta hluti með import\n\n/**\n * Reikna út stig fyrir svör út frá heildarfjölda svarað á tíma.\n * Ekki þarf að gera ráð fyrir hversu lengi seinasta spurning var sýnd. Þ.e.a.s.\n * stig verða alltaf reiknuð fyrir n-1 af n spurningum.\n *\n * @param {number} total Heildarfjöldi spurninga\n * @param {number} correct Fjöldi svarað rétt\n * @param {number} time Tími sem spurningum var svarað á í sekúndum\n *\n * @returns {number} Stig fyrir svör\n */\nexport function score(total, correct, time) {\n  const t = correct / total;\n\n  return Math.round(\n    (((t ** 2) + correct) * total) / time,\n  ) * 100;\n}\n\n/**\n * Útbúa stigatöflu, sækir gögn í gegnum storage.js\n */\nexport default class Highscore {\n  constructor() {\n    this.scores = document.querySelector('.highscore__scores');\n    this.button = document.querySelector('.highscore__button');\n\n    this.button.addEventListener('click', this.clear.bind(this));\n  }\n\n  /**\n   * Hlaða stigatöflu inn\n   */\n  load() {\n    // todo útfæra\n  }\n\n  /**\n   * Hreinsa allar færslur úr stigatöflu, tengt við takka .highscore__button\n   */\n  clear() {\n    // todo útfæra\n  }\n\n  /**\n   * Hlaða inn stigatöflu fyrir gefin gögn.\n   *\n   * @param {array} data Fylki af færslum í stigatöflu\n   */\n  highscore(data) {\n    // todo útfæra\n  }\n}\n","/**\n * Úr sýnilausn fyrir verkefni 7.\n */\n\nconst operators = ['+', '-', '*', '/'];\n\n/**\n* Skilar tölu af handahófi á bilinu [min, max]\n*/\nfunction randomNumber(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n/**\n* Útbýr spurningu og skilar sem hlut:\n* { problem: strengur með spurningu, answer: svar við spurningu sem tala }\n*/\n// eslint-disable-next-line import/prefer-default-export\nexport function createQuestion() {\n  const operator = operators[randomNumber(0, operators.length - 1)];\n\n  let a = null;\n  let b = null;\n  let answer = null;\n\n  switch (operator) {\n    case '+':\n      a = randomNumber(10, 100);\n      b = randomNumber(10, 100);\n      answer = a + b;\n      break;\n    case '-':\n      a = randomNumber(10, 100);\n      b = randomNumber(10, a);\n      answer = a - b;\n      break;\n    case '*':\n      a = randomNumber(1, 10);\n      b = randomNumber(1, 10);\n      answer = a * b;\n      break;\n    case '/':\n      b = randomNumber(2, 10);\n      a = randomNumber(2, 10) * b;\n      answer = a / b;\n      break;\n    default:\n      break;\n  }\n\n  return {\n    problem: `${a} ${operator} ${b}`,\n    answer,\n  };\n}\n","// todo vísa í rétta hluti með import\n\nimport { score } from './highscore';\nimport { createQuestion } from './question';\n\n// allar breytur hér eru aðeins sýnilegar innan þessa módúl\n\nlet startButton; // takki sem byrjar leik\nlet problem; // element sem heldur utan um verkefni, sjá index.html\nlet result; // element sem heldur utan um niðurstöðu, sjá index.html\n\nlet playTime; // hversu lengi á að spila? Sent inn gegnum init()\nlet total = 0; // fjöldi spurninga í núverandi leik\nlet correct = 0; // fjöldi réttra svara í núverandi leik\nlet currentProblem; // spurning sem er verið að sýna\n\n/**\n * Klárar leik. Birtir result og felur problem. Reiknar stig og birtir í result.\n */\nfunction finish() {\n  problem.classList.add('problem--hidden');\n  result.classList.remove('result--hidden');\n\n  const points = score(total, correct, playTime);\n\n  const resultText = result.querySelector('.result__text');\n\n  const text = `Þú svaraðir ${correct} rétt af ${total} spurningum og fékkst ${points} stig fyrir. Skráðu þig á stigatöfluna!`;\n\n  resultText.textContent = text;\n\n  // todo útfæra\n}\n\n/**\n * Keyrir áfram leikinn. Telur niður eftir því hve langur leikur er og þegar\n * tími er búinn kallar í finish().\n *\n * Í staðinn fyrir að nota setInterval köllum við í setTimeout á sekúndu fresti.\n * Þurfum þá ekki að halda utan um id á intervali og skilum falli sem lokar\n * yfir fjölda sekúnda sem eftir er.\n *\n * @param {number} current Sekúndur eftir\n */\nfunction tick(current) {\n  const timer = problem.querySelector('.problem__timer');\n  timer.textContent = current;\n\n  if (current <= 0) {\n    return finish();\n  }\n\n  return () => {\n    setTimeout(tick(current - 1), 1000);\n  };\n}\n\n/**\n * Býr til nýja spurningu og sýnir undir .problem__question\n */\nfunction showQuestion() {\n  total += 1;\n  currentProblem = createQuestion();\n  const question = problem.querySelector('.problem__question');\n  question.textContent = currentProblem.problem;\n}\n\n/**\n * Byrjar leik\n *\n * - Felur startButton og sýnir problem\n * - Núllstillir total og correct\n * - Kallar í fyrsta sinn í tick()\n * - Sýnir fyrstu spurningu\n */\nfunction start() {\n  startButton.classList.add('button--hidden');\n  problem.classList.remove('problem--hidden');\n\n  total = 0;\n  correct = 0;\n\n  setTimeout(tick(playTime), 1000);\n\n  showQuestion();\n}\n\n/**\n * Event handler fyrir það þegar spurningu er svarað. Athugar hvort svar sé\n * rétt, hreinsar input og birtir nýja spurningu.\n *\n * @param {object} e Event þegar spurningu svarað\n */\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  const input = e.target.querySelector('input');\n  const answer = Number.parseInt(input.value, 10);\n\n  if (currentProblem.answer === answer) {\n    correct += 1;\n  }\n\n  input.value = '';\n\n  showQuestion();\n}\n\n/**\n * Event handler fyrir þegar stig eru skráð eftir leik.\n *\n * @param {*} e Event þegar stig eru skráð\n */\nfunction onSubmitScore(e) {\n  e.preventDefault();\n\n  // todo útfæra\n\n  result.classList.add('result--hidden');\n  problem.classList.add('problem--hidden');\n  startButton.classList.remove('button--hidden');\n}\n\n/**\n * Finnur öll element DOM og setur upp event handlers.\n *\n * @param {number} _playTime Fjöldi sekúnda sem hver leikur er\n */\nexport default function init(_playTime) {\n  playTime = _playTime;\n\n  startButton = document.querySelector('.start');\n  result = document.querySelector('.result');\n  problem = document.querySelector('.problem');\n\n  startButton.addEventListener('click', start);\n\n  const scoreForm = document.querySelector('.problem__answer');\n  scoreForm.addEventListener('submit', onSubmit);\n}\n","import initGame from './lib/game';\nimport Highscore from './lib/highscore';\n\nconst PLAY_TIME = 10;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initGame(PLAY_TIME);\n\n  const highscore = new Highscore();\n  highscore.load();\n});\n"],"names":["score","total","correct","time","t","Math","round","Highscore","scores","document","querySelector","button","addEventListener","clear","bind","data","operators","randomNumber","min","max","floor","random","createQuestion","operator","length","a","b","answer","problem","startButton","result","playTime","currentProblem","finish","classList","add","remove","points","resultText","text","textContent","tick","current","timer","setTimeout","showQuestion","question","start","onSubmit","e","preventDefault","input","target","Number","parseInt","value","init","_playTime","scoreForm","PLAY_TIME","initGame","highscore","load"],"mappings":"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"}